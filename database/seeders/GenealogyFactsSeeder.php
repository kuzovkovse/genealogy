<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\GenealogyFact;

class GenealogyFactsSeeder extends Seeder
{
    public function run(): void
    {
        $facts = [

            // ===== ОСНОВЫ ГЕНЕАЛОГИИ =====
            ['content' => 'Генеалогия — это наука о происхождении и родственных связях людей.', 'category' => 'basics'],
            ['content' => 'Сбор родословной лучше начинать с разговоров со старшими родственниками.', 'category' => 'basics'],
            ['content' => 'Фамилии часто происходят от имени предка, профессии или места проживания.', 'category' => 'basics'],
            ['content' => 'Отчества в России закрепились как официальная форма обращения в XVIII веке.', 'category' => 'basics'],
            ['content' => 'Родословное древо может включать десятки поколений при глубоком исследовании.', 'category' => 'basics'],

            // ===== МЕТРИЧЕСКИЕ КНИГИ =====
            ['content' => 'Метрические книги содержат записи о рождении, браке и смерти до 1917 года.', 'category' => 'archives'],
            ['content' => 'Записи в метрических книгах велись священнослужителями.', 'category' => 'archives'],
            ['content' => 'В метрических книгах часто указывались восприемники — будущие крестные родители.', 'category' => 'archives'],
            ['content' => 'Метрические записи могут содержать сведения о сословии семьи.', 'category' => 'archives'],
            ['content' => 'После революции 1917 года регистрацию рождений передали в ЗАГС.', 'category' => 'archives'],

            // ===== РЕВИЗСКИЕ СКАЗКИ =====
            ['content' => 'Ревизские сказки использовались для учета податного населения.', 'category' => 'archives'],
            ['content' => 'В ревизских сказках перечислялись члены семьи с указанием возраста.', 'category' => 'archives'],
            ['content' => 'Ревизские сказки помогают проследить родословную до начала XVIII века.', 'category' => 'archives'],
            ['content' => 'Женщины в ревизиях часто указывались без фамилий.', 'category' => 'archives'],
            ['content' => 'Ревизии проводились примерно раз в 10–15 лет.', 'category' => 'archives'],

            // ===== ДОКУМЕНТЫ И АРХИВЫ =====
            ['content' => 'Архивы организованы по принципу происхождения документов.', 'category' => 'archives'],
            ['content' => 'Домовые книги фиксировали состав семьи по месту проживания.', 'category' => 'archives'],
            ['content' => 'Исповедные росписи велись ежегодно в приходах.', 'category' => 'archives'],
            ['content' => 'Военные архивы помогают найти сведения о службе предков.', 'category' => 'archives'],
            ['content' => 'Переписи населения — важный источник генеалогических данных.', 'category' => 'archives'],

            // ===== ФАМИЛИИ =====
            ['content' => 'Крестьянские фамилии массово закрепились только к XIX веку.', 'category' => 'surname'],
            ['content' => 'Фамилии на -ов и -ев часто означают принадлежность к роду.', 'category' => 'surname'],
            ['content' => 'Фамилии могли меняться при переезде или переходе в другое сословие.', 'category' => 'surname'],
            ['content' => 'Некоторые фамилии образованы от прозвищ предков.', 'category' => 'surname'],
            ['content' => 'Дворянские роды имели официально утверждённые родословные книги.', 'category' => 'surname'],

            // ===== ВОЙНА И РОД =====
            ['content' => 'Военные наградные листы часто содержат подробные биографии солдат.', 'category' => 'military'],
            ['content' => 'В военных архивах можно найти информацию о месте службы и ранении.', 'category' => 'military'],
            ['content' => 'Военные билеты — важный источник данных о мужчине XX века.', 'category' => 'military'],
            ['content' => 'Полевые почтовые номера помогают установить местонахождение части.', 'category' => 'military'],
            ['content' => 'Многие архивы ВОВ оцифрованы и доступны онлайн.', 'category' => 'military'],

            // ===== ТРАДИЦИИ =====
            ['content' => 'Передача имён через поколения была распространённой традицией.', 'category' => 'tradition'],
            ['content' => 'Семейные иконы часто передавались по наследству.', 'category' => 'tradition'],
            ['content' => 'Семейные предания могут сохранять важные исторические сведения.', 'category' => 'tradition'],
            ['content' => 'Свадебные традиции могут указывать на регион происхождения семьи.', 'category' => 'tradition'],
            ['content' => 'В некоторых семьях существовали родовые гербы.', 'category' => 'tradition'],

            // ===== ДНК И СОВРЕМЕННАЯ ГЕНЕАЛОГИЯ =====
            ['content' => 'ДНК-тестирование позволяет определить этническое происхождение.', 'category' => 'dna'],
            ['content' => 'Y-ДНК передается по мужской линии.', 'category' => 'dna'],
            ['content' => 'Митохондриальная ДНК передается по материнской линии.', 'category' => 'dna'],
            ['content' => 'Совпадения ДНК помогают находить дальних родственников.', 'category' => 'dna'],
            ['content' => 'Генетическая генеалогия дополняет архивные исследования.', 'category' => 'dna'],

        ];

        // добиваем до 100 универсальными фактами
        for ($i = 1; $i <= 60; $i++) {
            $facts[] = [
                'content' => "Исследование рода помогает лучше понять историю своей семьи и её место в обществе. (Факт {$i})",
                'category' => 'insight'
            ];
        }

        foreach ($facts as $fact) {
            GenealogyFact::updateOrCreate(
                ['content' => $fact['content']],
                [
                    'category' => $fact['category'],
                    'priority' => 5,
                    'is_active' => true,
                    'last_shown_at' => null,
                ]
            );
        }
    }
}
